"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" => Plugin Manager
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" auto-update: {{{
" install missing plugins at startup
augroup PLUGGED
  autocmd VimEnter * if len(filter(values(g:plugs), '!isdirectory(v:val.dir)'))
        \| PlugInstall --sync | source $MYVIMRC
        \| endif
augroup end
" }}}

set encoding=utf-8

" define plugin installation directory
call plug#begin($XDG_CONFIG_HOME . '/vim/remote')

" command line fuzzy finder
Plug 'junegunn/fzf.vim', { 'on': ['Files', 'Buffers', 'Ag', 'Rg', 'Windows'] }

" distraction-free writing
Plug 'junegunn/goyo.vim'
" hyperfocus-writing
Plug 'junegunn/limelight.vim'

" emphasize the current matched search pattern
Plug 'wincent/loupe'

" file-type aware comments
Plug 'tpope/vim-commentary'

" fast and minimalist file explorer
if has('nvim')
  Plug 'justinmk/vim-dirvish', { 'on': [] }
else
  Plug 'justinmk/vim-dirvish'
endif

" create file and parent direcory at the same time
Plug 'duggiefresh/vim-easydir'

" a git wrapper for vim
Plug 'tpope/vim-fugitive'

" color highlighter
Plug 'rrethy/vim-hexokinase', { 'do': 'make hexokinase' }
" relying on (n)vim to 'autoload' will likely not work
exec 'source ' . $XDG_CONFIG_HOME . '/vim/after/plugin/vim-hexokinase.vim'

" highlight sets of matching keywords
Plug 'andymass/vim-matchup'

" enable repeating actions with <.>
Plug 'tpope/vim-repeat'

" display git changes in gutter
Plug 'mhinz/vim-signify'

" start screen
Plug 'mhinz/vim-startify'

" surround sequence with tags
Plug 'tpope/vim-surround'

" enable focus events
Plug 'tmux-plugins/vim-tmux-focus-events'

" LSP/VScode snippett support
Plug 'hrsh7th/vim-vsnip'
Plug 'hrsh7th/vim-vsnip-integ'
" language snippets
Plug 'rafamadriz/friendly-snippets'
Plug 'cstrap/python-snippets'
Plug 'keyring/vsc-lua'
Plug 'honza/vim-snippets'
Plug 'J0rgeSerran0/vscode-csharp-snippets'

" Python unit testing
Plug 'alfredodeza/pytest.vim'

if has('nvim')
  " syntax highlighting for portage
  if isdirectory('/etc/portage')
    Plug 'gentoo/gentoo-syntax'
  endif

  " preview/browse json files with ease
  Plug 'gennaro-tedesco/nvim-jqx'

  " devicons (requires patched font)
  Plug 'kyazdani42/nvim-web-devicons'

  " fix cursorhold events
  Plug 'antoinemadec/FixCursorHold.nvim'
  let g:cursorhold_updatetime = 4000

  " parser generator tool
  Plug 'nvim-treesitter/nvim-treesitter', {'do': ':TSUpdate'}
  Plug 'nvim-treesitter/nvim-treesitter-textobjects'
  " easily identify nested parentheses
  Plug 'p00f/nvim-ts-rainbow'

  " library that extends core features
  Plug 'nvim-lua/plenary.nvim'
  " framework for setting up language servers
  Plug 'neovim/nvim-lspconfig'
  " auto completion framework
  Plug 'hrsh7th/nvim-compe'
  " centralize installation of lua-language-server (sumneko)
  Plug 'tjdevries/nlua.nvim'
  " extension for completion menu
  Plug 'tjdevries/complextras.nvim'

  " minimalist file explorer
  Plug 'tamago324/lir.nvim'

  " popup API implementation (WIP)
  Plug 'nvim-lua/popup.nvim'
  " modular fuzzy finder
  Plug 'nvim-telescope/telescope.nvim'
  " pre-compiled fzy sorter
  Plug 'nvim-telescope/telescope-fzy-native.nvim'
  " pre-compiled c port of fzf
  Plug 'nvim-telescope/telescope-fzf-native.nvim', { 'do': 'make' }
  " Telescope extension for LSP
  Plug 'gbrlsnchs/telescope-lsp-handlers.nvim'
endif

call plug#end()
